(this["webpackJsonpreact-complete-guide"]=this["webpackJsonpreact-complete-guide"]||[]).push([[10],{156:function(e,t,n){"use strict";n.r(t);var r=n(5),a=n(0),c=n(58),s=n.n(c),o=n(18),i=n(52),l=n(12),u=n(100),j=n(160),h=n(151),d=n(2);t.default=function(){var e,t=Object(a.useState)(!1),n=Object(r.a)(t,2),c=n[0],m=n[1],b=Object(i.a)((function(e){return!!e.match(/^\w+([.-]?\w+)*@\w+([.-]?\w+)*(\.\w{2,3})+$/)})),O=b.value,_=b.isValid,x=b.valueChangeHandler,f=b.reset,g=Object(a.useState)(null),p=Object(r.a)(g,2),v=p[0],F=p[1];return"EMAIL_NOT_FOUND"===v?e=Object(d.jsx)("p",{className:s.a["error-text"],children:"Email is not registered"}):""!==v&&(e=Object(d.jsx)("p",{className:s.a["error-text"],children:v})),Object(a.useEffect)((function(){F(null)}),[O]),Object(d.jsxs)("div",{className:s.a.container,children:[Object(d.jsx)(j.a,{bg:"light",expand:"lg",children:Object(d.jsx)(h.a,{children:Object(d.jsx)(l.b,{to:"/",children:Object(d.jsx)(j.a.Brand,{className:"logo",children:"Weatherly"})})})}),Object(d.jsxs)("div",{className:s.a.element,children:[Object(d.jsx)("h1",{children:"Forgot Password?"}),Object(d.jsx)("p",{className:"text",children:"No worries, kindly enter your email and we'll send you reset instructions."}),Object(d.jsxs)("form",{onSubmit:function(e){e.preventDefault(),m(!0),fetch("https://identitytoolkit.googleapis.com/v1/accounts:sendOobCode?key=AIzaSyCJJ7gB1xWDjeSmyj12tkqkgOjlwz2vCLc",{method:"POST",body:JSON.stringify({requestType:"PASSWORD_RESET",email:O}),headers:{"Content-Type":"application/json"}}).then((function(e){return m(!1),e.ok?e.json():e.json().then((function(e){console.log(e);var t="Authentication Failed";throw e&&e.error&&e.error.message&&(t=e.error.message),new Error(t)}))})).then((function(e){f()})).catch((function(e){F(e.message)}))},className:s.a["reset-form"],children:[Object(d.jsxs)("div",{className:s.a.control,children:[Object(d.jsx)("label",{htmlFor:"email",children:"Email"}),Object(d.jsx)("input",{value:O,onChange:x,type:"email",id:"email",required:!0})]}),Object(d.jsxs)("div",{className:s.a.actions,children:[c?Object(d.jsx)(o.a,{}):Object(d.jsx)("button",{disabled:!_,children:"Reset password"}),e]})]}),Object(d.jsxs)(l.b,{className:s.a.flex,to:"/login",children:[Object(d.jsx)(u.b,{})," Back to login"]})]})]})}},52:function(e,t,n){"use strict";var r=n(5),a=n(0);t.a=function(e){var t=Object(a.useState)(""),n=Object(r.a)(t,2),c=n[0],s=n[1],o=Object(a.useState)(!1),i=Object(r.a)(o,2),l=i[0],u=i[1],j=e(c);return{value:c,isValid:j,hasError:!j&&l,valueChangeHandler:function(e){s(e.target.value)},inputBlurHandler:function(e){u(!0)},reset:function(){s(""),u(!1)}}}},58:function(e,t,n){e.exports={container:"AuthForm_container__c83gh",element:"AuthForm_element__7WXs6","reset-form":"AuthForm_reset-form__10kf3",control:"AuthForm_control__2fVSU",invalid:"AuthForm_invalid__2xOpm",actions:"AuthForm_actions__1VNhY",action:"AuthForm_action__1YuFu",toggle:"AuthForm_toggle__21tnB",flex:"AuthForm_flex__2F0aW","error-text":"AuthForm_error-text__3Gs2x"}}}]);
//# sourceMappingURL=10.9b87646f.chunk.js.map