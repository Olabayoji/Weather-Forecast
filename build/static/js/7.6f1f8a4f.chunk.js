(this["webpackJsonpreact-complete-guide"]=this["webpackJsonpreact-complete-guide"]||[]).push([[7],{115:function(e,t,a){e.exports={search:"SearchBar_search__1uGbo"}},116:function(e,t,a){e.exports={"weather-display":"WeatherDisplay_weather-display__uP161",temp:"WeatherDisplay_temp__WDwqm",city:"WeatherDisplay_city__fbK-o",inner:"WeatherDisplay_inner__14E0I",condition:"WeatherDisplay_condition__2lzgb",description:"WeatherDisplay_description__16C5i"}},118:function(e,t,a){e.exports={card:"Card_card__1m44e"}},119:function(e,t,a){e.exports={daily:"DailyWeather_daily__2mTqH",time:"DailyWeather_time__3E-SK",temp:"DailyWeather_temp__21D5c"}},120:function(e,t,a){e.exports={backdrop:"Modal_backdrop__1mfF6",modal:"Modal_modal__4DXUe",header:"Modal_header__b50LG",content:"Modal_content__3zUnK",actions:"Modal_actions__1JvhX"}},121:function(e,t,a){e.exports={container:"MoreInfo_container__3cfZc",day:"MoreInfo_day__26dGr",temperature:"MoreInfo_temperature__XDS6K",temp:"MoreInfo_temp__1GWl_",element:"MoreInfo_element__1213-",header:"MoreInfo_header__PzDeQ",conditions:"MoreInfo_conditions__DcJn2"}},129:function(e,t,a){e.exports={popup:"Popup_popup__2whQH"}},162:function(e,t,a){"use strict";a.r(t);var n,c,r,s=a(0),i=a.n(s),o=a(5),l=a(88),d=a(46),u=a(47),j=a.n(u),b=a(115),m=a.n(b),p=a(8),h=a(20),O=a(2);function x(e,t){(n=new window.google.maps.places.Autocomplete(t.current,{types:["(cities)"]})).setFields(["address_components","formatted_address","geometry"]),n.addListener("place_changed",(function(){return function(e){return f.apply(this,arguments)}(e)}))}function f(){return(f=Object(d.a)(j.a.mark((function e(t){var a,s;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=n.getPlace(),s=a.formatted_address,r=a.geometry.location.lat(),c=a.geometry.location.lng(),t(s);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var g=function(){var e=Object(s.useState)(""),t=Object(o.a)(e,2),a=t[0],n=t[1],i=Object(s.useRef)(null),l=Object(p.b)();return i.current,Object(s.useEffect)((function(){r&&l(h.b.loadLocation({latitude:r,longitude:c}))}),[l,c]),Object(s.useEffect)((function(){!function(e,t){var a=document.createElement("script");a.type="text/javascript",a.readyState?a.onreadystatechange=function(){"loaded"!==a.readyState&&"complete"!==a.readyState||(a.onreadystatechange=null,t())}:a.onload=function(){return t()},a.src=e,document.getElementsByTagName("head")[0].appendChild(a)}("https://maps.googleapis.com/maps/api/js?key=AIzaSyA4Fsst30Ob6hbP7aN97VB-l4DOl3MCYzQ&libraries=places",(function(){return x(n,i)}))}),[l]),Object(O.jsxs)("form",{className:m.a.search,children:[Object(O.jsx)("label",{className:"sr-only",htmlFor:"city",children:"Enter city"}),Object(O.jsx)("input",{ref:i,onChange:function(e){return n(e.target.value)},placeholder:"Enter a City",value:a}),Object(O.jsx)("ul",{className:m.a.suggestions})]})},y=a(116),_=a.n(y),v=a(100),w=a(117),N=function(e){var t=e.weather.toLowerCase();return t.includes("thunder")?Object(O.jsx)(w.b,{}):t.includes("drizzle")||t.includes("rain")?Object(O.jsx)(w.c,{}):t.includes("cloud")?Object(O.jsx)(v.c,{}):t.includes("clear")?Object(O.jsx)(v.a,{}):t.includes("snow")?Object(O.jsx)(w.d,{}):Object(O.jsx)(w.a,{})},k=a(18),D=a(11),C=function(e,t){return"SEND"===t.type?{data:null,error:null,status:"pending"}:"SUCCESS"===t.type?{data:t.responseData,error:null,status:"completed"}:"ERROR"===t.type?{data:null,error:t.errorMessage,status:"completed"}:e},S=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=Object(s.useReducer)(C,{status:t?"pending":null,data:null,error:null}),n=Object(o.a)(a,2),c=n[0],r=n[1],i=Object(s.useCallback)(function(){var t=Object(d.a)(j.a.mark((function t(a,n){var c;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r({type:"SEND"}),t.prev=1,t.next=4,e(a,n);case 4:c=t.sent,r({type:"SUCCESS",responseData:c}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),r({type:"ERROR",errorMessage:t.t0.message||"Something went wrong!"});case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e,a){return t.apply(this,arguments)}}(),[e]);return Object(D.a)({sendRequest:i},c)},M=a(17),I="8f4b6f0769434ffba5031fb4bc7c57f8";function T(e,t){return E.apply(this,arguments)}function E(){return(E=Object(d.a)(j.a.mark((function e(t,a){var n,c,r,s,i,o,l,d,u;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api.weatherbit.io/v2.0/forecast/daily?lat=".concat(t,"&lon=").concat(a,"&days=14&key=").concat(I));case 2:return n=e.sent,e.next=5,n.json();case 5:if(c=e.sent,n.ok){e.next=8;break}throw new Error(c.message||"Could not fetch data.");case 8:r=[],s=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],i=["January","February","March","April","May","June","July","August","September","October","November","December"],o=Object(M.a)(c.data);try{for(o.s();!(l=o.n()).done;)d=l.value,u={weekday:s[new Date(d.valid_date).getDay()].slice(0,3),month:i[new Date(d.valid_date).getMonth()],date:new Date(d.valid_date).getDate(),year:new Date(d.valid_date).getFullYear(),id:d.valid_date,cityName:c.city_name,maxTemp:d.high_temp,minTemp:d.low_temp,avgTemp:Math.round(d.temp),precipitation:d.precip,weather:d.weather.description,windSpeed:Math.round(3.6*d.wind_spd),pressure:d.pres,visibility:Math.round(d.vis),uvIndex:d.uv,humidity:d.rh},r.push(u)}catch(j){o.e(j)}finally{o.f()}return e.abrupt("return",{forecastData:r});case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var W=a(118),F=a.n(W),P=function(e){return Object(O.jsx)("div",{className:F.a.card,children:e.children})},L=a(119),R=a.n(L),z=function(e){return Object(O.jsxs)("div",{onClick:function(){return e.onShow(e.data)},className:R.a.daily,children:[Object(O.jsx)("p",{className:R.a.time,children:e.date}),Object(O.jsx)(N,{weather:e.icon}),Object(O.jsx)("p",{className:R.a.temp,children:e.temp+"\xb0"})]})},J=a.p+"static/media/clear.3ac81d27.jpeg",A=a.p+"static/media/cloudy.6d81d02a.jpeg",B=a.p+"static/media/rain.115f56be.jpeg",K=a.p+"static/media/thunder.56ef1a93.jpeg",q=a.p+"static/media/snow.1865d963.jpeg",G=function(e){var t=Object(p.b)(),a=Object(p.c)((function(e){return e.weather.coordinates})),n=Object(s.useState)(!0),c=Object(o.a)(n,2),r=c[0],l=c[1],d=S(T),u=d.sendRequest,j=d.data,b=d.status,m=d.error;if(Object(s.useEffect)((function(){a.longitude?u(a.latitude,a.longitude):navigator.geolocation.getCurrentPosition((function(e){var a=e.coords.latitude,n=e.coords.longitude;t(h.b.loadLocation({latitude:a,longitude:n}))}),(function(e){return l(!1)}))}),[a.latitude,a.longitude,u,a,t]),!r)return Object(O.jsx)("div",{className:"centered",children:Object(O.jsx)("p",{children:"Permission to get current location denied. Kindly enter a city"})});if("pending"===b||null===a.latitude||null===j)return Object(O.jsx)("div",{className:"centered",children:Object(O.jsx)(k.a,{})});if(m)return Object(O.jsx)("div",{className:"centered",children:Object(O.jsx)("p",{children:m})});var x=j.forecastData[0],f=x.weather.toLowerCase(),g=j.forecastData.map((function(t){var a=t.weekday,n=t.weather,c=t.avgTemp,r=t,s=t;return Object(O.jsx)(z,{onShow:e.onShow,day:r,date:a,icon:n,temp:c,data:s},t.id)})),y="".concat(x.weekday,", ").concat(x.date," ").concat(x.month," ").concat(x.year),v=x.weather.toLowerCase(),w={backgroundImage:"linear-gradient(rgba(0, 0, 0, 0.6), rgba(0, 0, 0, 0.6)), url(".concat(A,")")};return v.includes("thunder")?w={backgroundImage:"url(".concat(K,")")}:v.includes("drizzle")||v.includes("rain")?w={backgroundImage:"linear-gradient(rgba(0, 0, 0, 0.6), rgba(0, 0, 0, 0.6)), url(".concat(B,")")}:v.includes("clear")?w={backgroundImage:"linear-gradient(rgba(0, 0, 0, 0.6), rgba(0, 0, 0, 0.6)), url(".concat(J,")")}:v.includes("snow")&&(w={backgroundImage:"linear-gradient(rgba(0, 0, 0, 0.6), rgba(0, 0, 0, 0.6)), url(".concat(q,")")}),Object(O.jsxs)(i.a.Fragment,{children:[Object(O.jsxs)("div",{style:w,className:_.a["weather-display"],children:[Object(O.jsxs)("div",{className:"centered",children:[Object(O.jsx)("p",{className:_.a.date,children:y}),Object(O.jsx)("p",{className:_.a.city,children:x.cityName})]}),Object(O.jsx)("p",{className:_.a.temp,children:x.avgTemp+"\xb0"}),Object(O.jsxs)("div",{className:"centered",children:[Object(O.jsx)(N,{weather:f}),Object(O.jsx)("p",{className:_.a.condition,children:x.weather})]})]}),Object(O.jsxs)(P,{children:[Object(O.jsx)("p",{className:_.a.description,children:"14-Day Forecast"}),Object(O.jsxs)("div",{className:_.a.inner,children:[Object(O.jsx)("hr",{}),g]})]})]})},U=a(120),V=a.n(U),H=a(9),Q=a.n(H),X=function(e){return Object(O.jsx)("div",{onClick:e.onClose,className:V.a.backdrop})},Y=function(e){return Object(O.jsx)("div",{className:V.a.modal,children:Object(O.jsx)("div",{className:V.a.content,children:e.children})})};function Z(e){return Object(O.jsxs)(s.Fragment,{children:[Q.a.createPortal(Object(O.jsx)(X,{onClose:e.onClose}),document.getElementById("overlays")),Q.a.createPortal(Object(O.jsx)(Y,{children:e.children}),document.getElementById("overlays"))]})}var $=a(121),ee=a.n($),te=a(126),ae=a(127),ne=a(128),ce=a(125),re=a(166),se=a(161);function ie(e){return"".concat(e,"\xb0C")}function oe(e){"".concat(e.min,"\xb0"),"".concat(e.max,"\xb0");return Object(O.jsx)(re.a,{sx:{minWidth:100},children:Object(O.jsx)(se.a,{"aria-label":"Custom marks",defaultValue:e.value,getAriaValueText:ie,step:10,valueLabelDisplay:"auto",disabled:!0})})}var le=function(e){var t=Object(p.c)((function(e){return e.weather.moreInfo})),a="".concat(t.weekday,", ").concat(t.date," ").concat(t.month," ").concat(t.year);return Object(O.jsx)(Z,{onClose:e.onClose,children:Object(O.jsx)(P,{children:Object(O.jsxs)("div",{className:ee.a.container,children:[Object(O.jsx)("p",{className:ee.a.day,children:a}),Object(O.jsxs)("div",{className:ee.a.temperature,children:[Object(O.jsx)(ce.a,{}),Object(O.jsxs)("p",{className:ee.a.temp,children:[t.avgTemp,"\xb0"]}),Object(O.jsxs)("div",{children:[Object(O.jsxs)("div",{className:ee.a.element,children:[Object(O.jsx)("p",{className:ee.a.header,children:"Min"}),Object(O.jsxs)("p",{children:[Math.round(t.minTemp),"\xb0"]})]}),Object(O.jsx)(oe,{value:t.avgTemp,min:t.minTemp,max:t.maxTemp}),Object(O.jsxs)("div",{className:ee.a.element,children:[Object(O.jsx)("p",{className:ee.a.header,children:"Max"}),Object(O.jsxs)("p",{children:[Math.round(t.maxTemp),"\xb0"]})]})]})]}),Object(O.jsxs)("div",{className:ee.a.conditions,children:[Object(O.jsxs)("div",{className:ee.a.element,children:[Object(O.jsxs)("p",{className:ee.a.header,children:[Object(O.jsx)(te.a,{})," Wind"]}),Object(O.jsxs)("p",{children:[t.windSpeed," km/h"]})]}),Object(O.jsxs)("div",{className:ee.a.element,children:[Object(O.jsxs)("p",{className:ee.a.header,children:[" ",Object(O.jsx)(ae.a,{})," Humidity"]}),Object(O.jsxs)("p",{children:[t.humidity,"%"]})]}),Object(O.jsxs)("div",{className:ee.a.element,children:[Object(O.jsxs)("p",{className:ee.a.header,children:[Object(O.jsx)(ne.a,{})," Pressure"]}),Object(O.jsxs)("p",{children:[t.pressure," hPa"]})]}),Object(O.jsxs)("div",{className:ee.a.element,children:[Object(O.jsxs)("p",{className:ee.a.header,children:[Object(O.jsx)(ae.b,{})," Visibility"]}),Object(O.jsxs)("p",{children:[t.visibility," km"]})]})]}),Object(O.jsx)("button",{onClick:e.onClose,className:"btn",children:"Close"})]})})})},de=a(129),ue=a.n(de),je=a(130),be=function(){return Object(O.jsx)("div",{className:ue.a.popup,children:Object(O.jsxs)("p",{children:[Object(O.jsx)(je.a,{})," Kindly login to view more forecast information"]})})},me=function(){var e=Object(p.c)((function(e){return e.auth.loginToken})),t=Object(p.b)(),a=Object(s.useState)(!1),n=Object(o.a)(a,2),c=n[0],r=n[1],i=Object(s.useState)(!1),d=Object(o.a)(i,2),u=d[0],j=d[1];return Object(O.jsxs)(l.a,{children:[u&&Object(O.jsx)(be,{}),c&&Object(O.jsx)(le,{onClose:function(){r(!1)}}),Object(O.jsx)(g,{}),Object(O.jsx)(G,{onShow:function(a){e?(r(!0),t(h.b.moreInfo(a))):(j(!0),setTimeout((function(){j(!1)}),5e3))}})]})};t.default=function(){return Object(O.jsx)(me,{})}},82:function(e,t,a){e.exports={main:"Layout_main__1dFZc"}},88:function(e,t,a){"use strict";a(0);var n=a(23),c=a(160),r=a(151),s=a(164),i=a(159),o=a(12),l=a(8),d=a(19),u=a(2);var j=function(){var e=Object(l.b)(),t=Object(l.c)((function(e){return e.auth.loginToken}));return Object(u.jsx)(c.a,{bg:"light",expand:"lg",children:Object(u.jsxs)(r.a,{children:[Object(u.jsx)(c.a.Brand,{className:"logo",href:"/",children:"Weatherly"}),Object(u.jsx)(c.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(u.jsx)(c.a.Collapse,{id:"basic-navbar-nav",children:Object(u.jsxs)(s.a,{className:"ms-auto",children:[t&&Object(u.jsxs)(i.a,{className:"centered",title:"Profile",id:"basic-nav-dropdown",children:[Object(u.jsx)(i.a.Item,{className:"centered",href:"/settings",children:"Settings"}),Object(u.jsx)(i.a.Item,{className:"centered",onClick:function(){e(d.a.logOut())},children:"Log out"})]}),!t&&Object(u.jsx)(o.b,{className:"centered cta nav-link",to:"/login",children:"Login"})]})})]})})},b=a(82),m=a.n(b);t.a=function(e){return Object(u.jsxs)(n.Fragment,{children:[Object(u.jsx)(j,{}),Object(u.jsx)("main",{className:m.a.main,children:e.children})]})}}}]);
//# sourceMappingURL=7.6f1f8a4f.chunk.js.map